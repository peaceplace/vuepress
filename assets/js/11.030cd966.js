(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{386:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("在RHEL8中把软件源分成了两个部分，一个是BaseOS，另一个是AppStream。在Red Hat Enterprise Linux 8.0中，统一的ISO自动加载BaseOS和AppStream安装源存储库。已经存在于光盘链接中，只不过要分别去配置.repo文件。BaseOS 存储库 - BaseOS 存储库以传统 RPM 包的形式提供底层核心 OS 内容。AppStream 存储库 - Application Stream 存储库提供用户可能希望在给定用户空间中运行的所有应用程序。\n")]),e._v(" "),s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),s("p",[e._v("在RHEL8中把软件源分成了两个部分，一个是BaseOS，另一个是AppStream。在Red Hat Enterprise Linux 8.0中，统一的ISO自动加载BaseOS和AppStream安装源存储库。已经存在于光盘链接中，只不过要分别去配置.repo文件。BaseOS 存储库 - BaseOS 存储库以传统 RPM 包的形式提供底层核心 OS 内容。AppStream 存储库 - Application Stream 存储库提供用户可能希望在给定用户空间中运行的所有应用程序。")]),e._v(" "),s("h2",{attrs:{id:"开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[e._v("#")]),e._v(" 开始")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[root@localhost ~]# mkdir /yum\n[root@localhost ~]# mount /dev/cdrom /yum\nmount: /yum: WARNING: device write-protected, mounted read-only.\n[root@localhost ~]# df -h\nFilesystem             Size  Used Avail Use% Mounted on\ndevtmpfs               889M     0  889M   0% /dev\ntmpfs                  904M     0  904M   0% /dev/shm\ntmpfs                  904M   18M  886M   2% /run\ntmpfs                  904M     0  904M   0% /sys/fs/cgroup\n/dev/mapper/rhel-root   17G  3.9G   14G  23% /\n/dev/sda1             1014M  170M  845M  17% /boot\ntmpfs                  181M   20K  181M   1% /run/user/42\ntmpfs                  181M  3.5M  178M   2% /run/user/0\n/dev/sr0               6.7G  6.7G     0 100% /yum\n[root@localhost ~]# echo \"/dev/cdrom /yum iso9660 defaults 0 0\" >> /etc/fstab \n[root@localhost ~]# cat /etc/fstab \n\n#\n# /etc/fstab\n# Created by anaconda on Tue Dec 24 05:39:07 2019\n#\n# Accessible filesystems, by reference, are maintained under '/dev/disk/'.\n# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.\n#\n# After editing this file, run 'systemctl daemon-reload' to update systemd\n# units generated from this file.\n#\n/dev/mapper/rhel-root   /                       xfs     defaults        0 0\nUUID=e48080e4-ba01-45e5-a8fe-90ebb4c17c28 /boot                   xfs     defaults        0 0\n/dev/mapper/rhel-swap   swap                    swap    defaults        0 0\n/dev/cdrom /yum iso9660 defaults 0 0\n\n[root@localhost ~]# cd /etc/yum.repos.d/\n[root@localhost yum.repos.d]# vim AppStream.repo\n[AppStream]\nname=AppStream\nbaseurl=file:///yum/AppStream\nenabled=1\ngpgcheck=0\n[root@localhost yum.repos.d]# vim BaseOS.repo\n[BaseOS]\nname=BaseOS\nbaseurl=file:///yum/BaseOS\nenabled=1\ngpgcheck=0\n[root@localhost yum.repos.d]# ls\nAppStream.repo  BaseOS.repo  redhat.repo\n")])])]),s("blockquote",[s("p",[e._v("注：与原来BaseOS和AppStream两个储存库都需要指定(建议复制)")])]),e._v(" "),s("h2",{attrs:{id:"主要步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要步骤"}},[e._v("#")]),e._v(" 主要步骤")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("创建挂载文件夹")])]),e._v(" "),s("li",[s("p",[e._v("挂载镜像文件到新创建的文件夹")])]),e._v(" "),s("li",[s("p",[e._v("检查磁盘")])]),e._v(" "),s("li",[s("p",[e._v("设置开机自动挂载")])]),e._v(" "),s("li",[s("p",[e._v("修改新增repo源文件")])])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.peacecity.cn/img/20201121221111.png",alt:"具体步骤"}})]),e._v(" "),s("h2",{attrs:{id:"检查是否更新源完成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查是否更新源完成"}},[e._v("#")]),e._v(" 检查是否更新源完成")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[root@localhost yum.repos.d]# yum makecache\n[root@localhost yum.repos.d]# yum clean all\n[root@localhost yum.repos.d]# yum repolist\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.peacecity.cn/img/20201121221206.png",alt:""}}),e._v(" "),s("img",{attrs:{src:"https://cdn.peacecity.cn/img/20201121221222.png",alt:""}})]),e._v(" "),s("h2",{attrs:{id:"centos7以及rhel7本地源配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos7以及rhel7本地源配置"}},[e._v("#")]),e._v(" Centos7以及RHEL7本地源配置")]),e._v(" "),s("h3",{attrs:{id:"主要步骤-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要步骤-2"}},[e._v("#")]),e._v(" 主要步骤")]),e._v(" "),s("p",[e._v("和RHEL8 差不多")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("创建挂载文件")])]),e._v(" "),s("li",[s("p",[e._v("挂载镜像文件到新创建的文件夹")])]),e._v(" "),s("li",[s("p",[e._v("检查磁盘")])]),e._v(" "),s("li",[s("p",[e._v("备份且修改repo源文件")])])]),e._v(" "),s("h3",{attrs:{id:"实现命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现命令"}},[e._v("#")]),e._v(" 实现命令")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('[root@localhost ~]# mkdir /yum\n[root@localhost ~]# mount /dev/cdrom /yum\n[root@localhost ~]# df -h\nFilesystem             Size  Used Avail Use% Mounted on\ndevtmpfs               889M     0  889M   0% /dev\ntmpfs                  904M     0  904M   0% /dev/shm\ntmpfs                  904M   18M  886M   2% /run\ntmpfs                  904M     0  904M   0% /sys/fs/cgroup\n/dev/mapper/rhel-root   17G  3.9G   14G  23% /\n/dev/sda1             1014M  170M  845M  17% /boot\ntmpfs                  181M   20K  181M   1% /run/user/42\ntmpfs                  181M  3.5M  178M   2% /run/user/0\n/dev/sr0               6.7G  6.7G     0 100% /yum\n[root@localhost ~]# echo "/dev/cdrom /yum iso9660 defaults 0 0" >> /etc/fstab \n[root@localhost ~]# cd /etc/yum.repos.d/\n[root@localhost ~]# cp CentOS-Base.repo CentOS-Base.repo.bak\n[root@localhost ~]# vi CentOS-Base.repo\n')])])]),s("p",[s("img",{attrs:{src:"https://cdn.peacecity.cn/img/20201121221742.png",alt:"修改repo文件"}})]),e._v(" "),s("blockquote",[s("p",[e._v("在repo文件中注释掉mirrorlist这一行，修改baseurl的路径为你挂载的目录地址")])]),e._v(" "),s("h3",{attrs:{id:"修改完成repo文件后测试源是否更改完成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改完成repo文件后测试源是否更改完成"}},[e._v("#")]),e._v(" 修改完成repo文件后测试源是否更改完成")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[root@localhost yum.repos.d]# yum makecache\n[root@localhost yum.repos.d]# yum clean all\n[root@localhost yum.repos.d]# yum repolist\n")])])]),s("p",[e._v("{% note success %}\n总结完毕~~~~\n{% endnote %}")])])}),[],!1,null,null,null);t.default=r.exports}}]);