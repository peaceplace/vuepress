(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{396:function(t,n,e){"use strict";e.r(n);var a=e(0),r=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("前言")]),t._v(" "),e("p",[t._v("本人脑子笨、记性不好。翻书找命令太麻烦，索性自己总结命令在博客里，方便查阅\n")]),t._v(" "),e("h2",{attrs:{id:"常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),e("h3",{attrs:{id:"路由器命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由器命令"}},[t._v("#")]),t._v(" 路由器命令")]),t._v(" "),e("h4",{attrs:{id:"路由器口令设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由器口令设置"}},[t._v("#")]),t._v(" 路由器口令设置")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("router>enable                           进入特权模式\nrouter#config terminal                  进入全局配置模式\nrouter(config)#hostname <hostname>      设置交换机的主机名\nrouter(config)#enable secret xxx        设置特权加密口令\nrouter(config)#enable password xxb      设置特权非密口令\nrouter(config)#line console 0           进入控制台口\nrouter(config-line)#line vty 0 4        进入虚拟终端\nrouter(config-line)#login               要求口令验证\nrouter(config-line)#password xx         设置登录口令xx\nrouter(config)#(Ctrl+z)                 返回特权模式\nrouter#exit                             返回命令\n")])])]),e("h4",{attrs:{id:"路由器配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由器配置"}},[t._v("#")]),t._v(" 路由器配置")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("router(config)#int s0/0                             进入Serail接口\nrouter(config-if)#no shutdown                       激活当前接口\nrouter(config-if)#clock rate 64000                  设置同步时钟\nrouter(config-if)#ip address <ip> <netmask>         设置IP地址\nrouter(config-if)#ip address <ip> <netmask> second  设置第二个IP\nrouter(config-if)#int f0/0.1                        进入子接口\nrouter(config-subif.1)#ip address <ip> <netmask>    设置子接口IP\nrouter(config-subif.1)#encapsulation dot1q <n>      绑定vlan中继协议\nrouter(config)#config-register 0x2142               跳过配置文件\nrouter(config)#config-register 0x2102               正常使用配置文件\nrouter#reload                                       重新引导\n")])])]),e("h4",{attrs:{id:"路由器文件操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由器文件操作"}},[t._v("#")]),t._v(" 路由器文件操作")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("router#copy running-config startup-config           保存配置\nrouter#copy running-config tftp                     保存配置到tftp\nrouter#copy startup-config tftp                     开机配置存到tftp\nrouter#copy tftp flash:                             下传文件到flash\nrouter#copy tftp startup-config                     下载配置文件\nROM状态：\nCtrl+Break                                          进入ROM监控状态\nrommon>confreg 0x2142                               跳过配置文件\nrommon>confreg 0x2102                               恢复配置文件\nrommon>reset                                        重新引导\nrommon>copy xmodem:<sname> flash:<dname>            从console传输文件\nrommon>IP_ADDRESS=10.65.1.2                         设置路由器IP\nrommon>IP_SUBNET_MASK=255.255.0.0                   设置路由器掩码\nrommon>TFTP_SERVER=10.65.1.1                        指定TFTP服务器IP\nrommon>TFTP_FILE=c2600.bin                          指定下载的文件\nrommon>tftpdnld                                     从tftp下载\nrommon>dir flash:                                   查看闪存内容\nrommon>boot                                         引导IOS\n")])])]),e("h4",{attrs:{id:"静态路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#静态路由"}},[t._v("#")]),t._v(" 静态路由")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ip route <ip-address> <subnet-mask> <gateway>       命令格式\nrouter(config)#ip route 2.0.0.0 255.0.0.0 1.1.1.2   静态路由举例\nrouter(config)#ip route 0.0.0.0 0.0.0.0 1.1.1.2     默认路由举例\n")])])]),e("h4",{attrs:{id:"动态路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态路由"}},[t._v("#")]),t._v(" 动态路由")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("router(config)#ip routing                          启动路由转发\nrouter(config)#router rip                          启动RIP路由协议。\nrouter(config-router)#network <netid>              设置发布路由\nrouter(config-router)#negihbor <ip>                点对点帧中继用。\n")])])]),e("h4",{attrs:{id:"帧中继命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#帧中继命令"}},[t._v("#")]),t._v(" 帧中继命令")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("router(config)#frame-relay switching               使能帧中继交换\nrouter(config-s0)#encapsulation frame-relay        使能帧中继\nrouter(config-s0)#fram-relay lmi-type cisco        设置管理类型\nrouter(config-s0)#frame-relay intf-type DCE        设置为DCE\nrouter(config-s0)#frame-relay dlci 16              \nrouter(config-s0)#frame-relay local-dlci 20        设置虚电路号\nrouter(config-s0)#frame-relay interface-dlci 16 \nrouter(config)#log-adjacency-changes             记录邻接变化\nrouter(config)#int s0/0.1 point-to-point         设置子接口点对点\nrouter#show frame pvc                            显示永久虚电路\nrouter#show frame map                            显示映射\n")])])]),e("h4",{attrs:{id:"基本访问控制列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本访问控制列表"}},[t._v("#")]),t._v(" 基本访问控制列表")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("router(config)#access-list <number> permit|deny <source_ip> <wild|any>\nrouter(config)#interface <interface>             ；default:deny any\nrouter(config-if)#ip access-group <number> in|out   ；defaultut\n")])])]),e("p",[t._v("实例：")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("例1：\nrouter(config)#access-list 1 deny host 10.65.1.1\nrouter(config)#access-list 1 permit any\nrouter(config)#int f0/0\nrouter(config-if)#ip access-group 4 in\n例2：\nrouter(config)#access-list 4 permit 10.8.1.1\nrouter(config)#access-list 4 deny 10.8.1.0 0.0.0.255\nrouter(config)#access-list 4 permit 10.8.0.0 0.0.255.255\nrouter(config)#access-list 4 deny 10.0.0.0 0.255.255.255\nrouter(config)#access-list 4 permit any\nrouter(config)#int f0/1\nrouter(config-if)#ip access-group 4 in\n扩展访问控制列表：\naccess-list <number> permit|deny icmp <S_IP wild> <D_IP wild>[type]\naccess-list <number> permit|deny tcp <S_IP wild> <D_IP wild>[port]\n例1：\nrouter(config)#access-list 101 deny icmp any 10.64.0.2 0.0.0.0 echo\nrouter(config)#access-list 101 permit ip any any\nrouter(config)#int s0/0\nrouter(config-if)#ip access-group 101 in\n例2：\nrouter(config)#access-list 102 deny tcp any 10.65.0.2 0.0.0.0 eq 80\nrouter(config)#access-list 102 permit ip any any\nrouter(config)#interface s0/1\nrouter(config-if)#ip access-group 102 out\n删除访问控制例表:\nrouter(config)#no access-list 102\nrouter(config-if)#no ip access-group 101 in\n路由器的nat配置\nRouter(config-if)#ip nat inside              当前接口指定为内部接口\nRouter(config-if)#ip nat outside             当前接口指定为外部接口\nRouter(config)#ip nat inside source static [p] <私有IP><公网IP> [port]\nRouter(config)#ip nat inside source static 10.65.1.2 60.1.1.1\nRouter(config)#ip nat inside source static tcp 10.65.1.3 80 60.1.1.1 80\nRouter(config)#ip nat pool p1 60.1.1.1 60.1.1.20 255.255.255.0\nRouter(config)#ip nat inside source list 1 pool p1\nRouter(config)#ip nat inside destination list 2 pool p2\nRouter(config)#ip nat inside source list 2 interface s0/0 overload\nRouter(config)#ip nat pool p2 10.65.1.2 10.65.1.4 255.255.255.0 type rotary\nRouter#show ip nat translation\nrotary 参数是轮流的意思，地址池中的IP轮流与NAT分配的地址匹配。\noverload参数用于PAT 将内部IP映射到一个公网IP不同的端口上。\n外部网关协议配置\nrouterA(config)#router bgp 100\nrouterA(config-router)#network 19.0.0.0\nrouterA(config-router)#neighbor 8.1.1.2 remote-as 200\n配置PPP验证：\nRouterA(config)#username <RouterB> password <word>\nRouterA(config)#int s0\nRouterA(config-if)#ppp authentication {chap|pap}\n")])])]),e("h4",{attrs:{id:"路由器子接口封装为802-1q"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由器子接口封装为802-1q"}},[t._v("#")]),t._v(" 路由器子接口封装为802.1q")]),t._v(" "),e("div",{staticClass:"language-ROUTER extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Encapsulation dot1q 2      封装类型设置为 802.1Q,2是子接口号标识，这里是示范，可以随意设置。\n")])])]),e("h3",{attrs:{id:"交换机常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机常用命令"}},[t._v("#")]),t._v(" 交换机常用命令")]),t._v(" "),e("h4",{attrs:{id:"交换机基本状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机基本状态"}},[t._v("#")]),t._v(" 交换机基本状态")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("switch:                                            ；交换机的ROM状态\nrommon>                                            ；路由器的ROM状态\nhostname>                                        ；用户模式\nhostname#                                        ；特权模式\nhostname(config)#                               ；全局配置模式\nhostname(config-if)#                                ；接口状态\n")])])]),e("h4",{attrs:{id:"交换机口令设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机口令设置"}},[t._v("#")]),t._v(" 交换机口令设置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("switch>enable                                      ；进入特权模式\nswitch#config terminal                            ；进入全局配置模式\nswitch(config)#hostname                 ；设置交换机的主机名\nswitch(config)#enable secret xxx                    ；设置特权加密口令\nswitch(config)#enable password xxa                ；设置特权非密口令\nswitch(config)#line console 0                   ；进入控制台口\nswitch(config-line)#line vty 0 4                    ；进入虚拟终端\nswitch(config-line)#login                          ；允许登录\nswitch(config-line)#password xx                    ；设置登录口令xx\nswitch#exit                                     ；返回命令\n")])])]),e("h4",{attrs:{id:"交换机vlan设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机vlan设置"}},[t._v("#")]),t._v(" 交换机VLAN设置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("switch#vlan database                                ；进入VLAN设置\nswitch(vlan)#vlan 2                                ；建VLAN 2\nswitch(vlan)#no vlan 2                            ；删vlan 2\nswitch(config)#int f0/1                         ；进入端口1\nswitch(config-if)#switchport access vlan 2       ；当前端口加入vlan 2\nswitch(config-if)#switchport mode trunk          ；设置为干线\nswitch(config-if)#switchport trunk allowed vlan 1,2 ；设置允许的vlan\nswitch(config-if)#switchport trunk encap dot1q    ；设置vlan 中继\nswitch(config)#vtp domain                     ；设置发vtp域名\nswitch(config)#vtp password                 ；设置发vtp密码\nswitch(config)#vtp mode server                   ；设置发vtp模式\nswitch(config)#vtp mode client                   ；设置发vtp模式\n")])])]),e("h4",{attrs:{id:"交换机设置ip地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机设置ip地址"}},[t._v("#")]),t._v(" 交换机设置IP地址")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("switch(config)#interface vlan 1                    ；进入vlan 1\nswitch(config-if)#ip address           ；设置IP地址\nswitch(config)#ip default-gateway               ；设置默认网关\nswitch#dir flash:                               ；查看闪存\n")])])]),e("h4",{attrs:{id:"交换机显示命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机显示命令"}},[t._v("#")]),t._v(" 交换机显示命令")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("switch#write                                     ；保存配置信息\nswitch#show vtp                                  ；查看vtp配置信息\nswitch#show run                                  ；查看当前配置信息\nswitch#show vlan                                  ；查看vlan配置信息\nswitch#show interface                            ；查看端口信息\nswitch#show int f0/0                                ；查看指定端口信息\n")])])]),e("h4",{attrs:{id:"交换机vlan设置-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交换机vlan设置-2"}},[t._v("#")]),t._v(" 交换机VLAN设置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("switch#vlan database ；进入VLAN设置\nswitch(vlan)#vlan 2 ；建VLAN 2\nswitch(vlan)#no vlan 2 ；删vlan 2\nswitch(config)#int f0/1 ；进入端口1\nswitch(config-if)#switchport access vlan 2 ；当前端口加入vlan 2\nswitch(config-if)#switchport mode trunk ；设置为干线\nswitch(config-if)#switchport trunk allowed vlan 1，2 ；设置允许的vlan  不明白\nswitch(config-if)#switchport trunk encap dot1q ；设置vlan 中继\n何为中继，功能作用，二层到三层设置中继模式\nswitch(config)#vtp domain  ；设置发vtp域名  什么是vtp\nswitch(config)#vtp password  ；设置发vtp密码\nswitch(config)#vtp mode server ；设置发vtp模式\nswitch(config)#vtp mode client ；设置发vtp模式\n")])])]),e("blockquote",[e("p",[t._v("以上资料均来自网上，如有错误欢迎指出")])]),t._v(" "),e("p",[t._v("{% note success %}\n总结完毕~~~~\n{% endnote %}")])])}),[],!1,null,null,null);n.default=r.exports}}]);