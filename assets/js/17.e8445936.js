(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{391:function(a,t,e){"use strict";e.r(t);var s=e(0),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("openstack常用运维命令整合\n")]),a._v(" "),e("h2",{attrs:{id:"通用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通用命令"}},[a._v("#")]),a._v(" 通用命令")]),a._v(" "),e("h3",{attrs:{id:"更改环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更改环境变量"}},[a._v("#")]),a._v(" 更改环境变量")]),a._v(" "),e("p",[e("code",[a._v("sorece /etc/keystone/admin-openrc.sh")])]),a._v(" "),e("h2",{attrs:{id:"keystone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keystone"}},[a._v("#")]),a._v(" Keystone")]),a._v(" "),e("h3",{attrs:{id:"创建用户-名称-aaa-密码-123-邮箱-aaa-qq-com"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建用户-名称-aaa-密码-123-邮箱-aaa-qq-com"}},[a._v("#")]),a._v(" 创建用户(名称：aaa   密码：123  邮箱：aaa@qq.com)")]),a._v(" "),e("p",[e("code",[a._v("openstack user create --password 123 --email aaa@qq.com --domain demo aaa")])]),a._v(" "),e("ul",[e("li",[a._v("命令格式：")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$ openstack user create [--domain <domain>]\n                        [--password <password>]\n                        [--email <email-add>]\n                        [--enable | --disable ]\n                        <name>\n")])])]),e("h3",{attrs:{id:"创建项目-名称-aaa1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建项目-名称-aaa1"}},[a._v("#")]),a._v(" 创建项目(名称：aaa1)")]),a._v(" "),e("p",[e("code",[a._v("openstack project create --domain demo aaa1")])]),a._v(" "),e("ul",[e("li",[a._v("命令格式：")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$ openstack project create [--domain <domain>]\n   [--description <description>]\n   [--enable / --disable]\n   <project-name>\n")])])]),e("h3",{attrs:{id:"创建角色-名称-com"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建角色-名称-com"}},[a._v("#")]),a._v(" 创建角色(名称：com)")]),a._v(" "),e("p",[e("code",[a._v("openstack role create com")])]),a._v(" "),e("ul",[e("li",[a._v("命令格式：")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$ openstack role create <name>\n")])])]),e("h3",{attrs:{id:"绑定用户-项目权限-使aaa分配aaa1项目下的com角色"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#绑定用户-项目权限-使aaa分配aaa1项目下的com角色"}},[a._v("#")]),a._v(" 绑定用户+项目权限(使aaa分配aaa1项目下的com角色)")]),a._v(" "),e("p",[e("code",[a._v("openstack role add --user aaa --project aaa1 com")])]),a._v(" "),e("ul",[e("li",[a._v("命令格式：")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$ openstack role add --user <user> --project <project-name> <role>\n")])])]),e("h3",{attrs:{id:"查看域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看域"}},[a._v("#")]),a._v(" 查看域")]),a._v(" "),e("p",[e("code",[a._v("openstack domain list")])]),a._v(" "),e("h3",{attrs:{id:"查看所有用户信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看所有用户信息"}},[a._v("#")]),a._v(" 查看所有用户信息")]),a._v(" "),e("p",[e("code",[a._v("openstack user show <user>")])]),a._v(" "),e("h3",{attrs:{id:"项目列表查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目列表查询"}},[a._v("#")]),a._v(" 项目列表查询")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALL：openstack project list\nSOLE：openstack peoject show <projext-name>\n")])])]),e("h3",{attrs:{id:"角色列表查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#角色列表查询"}},[a._v("#")]),a._v(" 角色列表查询")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALL：openstack role list\nSOLE：openstack role show <role>\n")])])]),e("h3",{attrs:{id:"端点地址查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#端点地址查询"}},[a._v("#")]),a._v(" 端点地址查询")]),a._v(" "),e("p",[e("code",[a._v("openstack endpoint list")])]),a._v(" "),e("h3",{attrs:{id:"获取token令牌"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取token令牌"}},[a._v("#")]),a._v(" 获取token令牌")]),a._v(" "),e("p",[e("code",[a._v("openstack token issue")])]),a._v(" "),e("h3",{attrs:{id:"开关用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开关用户"}},[a._v("#")]),a._v(" 开关用户")]),a._v(" "),e("p",[e("code",[a._v("openstack user set <--enable | --disable > <user>")])]),a._v(" "),e("h2",{attrs:{id:"glance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#glance"}},[a._v("#")]),a._v(" Glance")]),a._v(" "),e("h3",{attrs:{id:"创建镜像-名称-cirros-镜像-centos-iaas-iso"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建镜像-名称-cirros-镜像-centos-iaas-iso"}},[a._v("#")]),a._v(" 创建镜像(名称：cirros 镜像：Centos-iaas.iso)")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('glance image-create --name "cirros" --disk-format qcow2 --container bare --profress Centos-iaas.iso\n')])])]),e("h3",{attrs:{id:"查询镜像列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询镜像列表"}},[a._v("#")]),a._v(" 查询镜像列表")]),a._v(" "),e("p",[e("code",[a._v("glance image-list")])]),a._v(" "),e("h3",{attrs:{id:"查询镜像详细信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询镜像详细信息"}},[a._v("#")]),a._v(" 查询镜像详细信息")]),a._v(" "),e("p",[e("code",[a._v("glance image-show <image-ID>")])]),a._v(" "),e("h3",{attrs:{id:"更新镜像信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新镜像信息"}},[a._v("#")]),a._v(" 更新镜像信息")]),a._v(" "),e("p",[e("code",[a._v("glance image-update --min-disk=1 <image-ID>")])]),a._v(" "),e("h3",{attrs:{id:"删除镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[a._v("#")]),a._v(" 删除镜像")]),a._v(" "),e("p",[e("code",[a._v("glance image-delete <image-ID>")])]),a._v(" "),e("h2",{attrs:{id:"nova"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nova"}},[a._v("#")]),a._v(" Nova")]),a._v(" "),e("h3",{attrs:{id:"创建安全组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建安全组"}},[a._v("#")]),a._v(" 创建安全组")]),a._v(" "),e("p",[e("code",[a._v("openstack security group create test --description '<描述>'")])]),a._v(" "),e("h3",{attrs:{id:"创建虚拟机类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建虚拟机类型"}},[a._v("#")]),a._v(" 创建虚拟机类型")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("nova flavor-create test 6 2048 20 2\n[name][id][ram][rom][vcpu]\n")])])]),e("h3",{attrs:{id:"查看云主机类型详细信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看云主机类型详细信息"}},[a._v("#")]),a._v(" 查看云主机类型详细信息")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("nova flavor-show <name>\n")])])]),e("h2",{attrs:{id:"neutron"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#neutron"}},[a._v("#")]),a._v(" Neutron")]),a._v(" "),e("h3",{attrs:{id:"查询列表信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询列表信息"}},[a._v("#")]),a._v(" 查询列表信息")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("neutron agent-list -c binary\n")])])]),e("h3",{attrs:{id:"查询网络信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询网络信息"}},[a._v("#")]),a._v(" 查询网络信息")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALL：neutron net-list\nSOLE：neutron net-show <ID>\n")])])]),e("h3",{attrs:{id:"查看网络服务信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看网络服务信息"}},[a._v("#")]),a._v(" 查看网络服务信息")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALL：neutron agent-list\nSOLE：neutron agent-show <ID>\n")])])]),e("h3",{attrs:{id:"查看子网信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看子网信息"}},[a._v("#")]),a._v(" 查看子网信息")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALL：neutron subnet-list\nSOLE：neutron subnet-show <ID>\n")])])]),e("h2",{attrs:{id:"cinder"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cinder"}},[a._v("#")]),a._v(" Cinder")]),a._v(" "),e("h3",{attrs:{id:"创建云硬盘-名称-ext-demo-云硬盘-2g"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建云硬盘-名称-ext-demo-云硬盘-2g"}},[a._v("#")]),a._v(" 创建云硬盘(名称:ext-demo 云硬盘:2G)")]),a._v(" "),e("p",[e("code",[a._v("cinder create --name ext-demo 2")])]),a._v(" "),e("h3",{attrs:{id:"查看云硬盘信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看云硬盘信息"}},[a._v("#")]),a._v(" 查看云硬盘信息")]),a._v(" "),e("p",[e("code",[a._v("cinder list")])]),a._v(" "),e("h3",{attrs:{id:"创建云硬盘卷类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建云硬盘卷类型"}},[a._v("#")]),a._v(" 创建云硬盘卷类型")]),a._v(" "),e("p",[e("code",[a._v("cinder type-create lvm")])]),a._v(" "),e("h3",{attrs:{id:"查看云硬盘现有类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看云硬盘现有类型"}},[a._v("#")]),a._v(" 查看云硬盘现有类型")]),a._v(" "),e("p",[e("code",[a._v("cinder type-list")])]),a._v(" "),e("h3",{attrs:{id:"创建带标识的云硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建带标识的云硬盘"}},[a._v("#")]),a._v(" 创建带标识的云硬盘")]),a._v(" "),e("p",[e("code",[a._v("cinder create --name type_test_demo --volume-type lvm 1")])]),a._v(" "),e("h3",{attrs:{id:"查看指定云硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看指定云硬盘"}},[a._v("#")]),a._v(" 查看指定云硬盘")]),a._v(" "),e("p",[e("code",[a._v("cinder show <name>")])]),a._v(" "),e("h3",{attrs:{id:"删除指定云硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除指定云硬盘"}},[a._v("#")]),a._v(" 删除指定云硬盘")]),a._v(" "),e("p",[e("code",[a._v("cinder delete <name>")])]),a._v(" "),e("h2",{attrs:{id:"swift"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#swift"}},[a._v("#")]),a._v(" Swift")]),a._v(" "),e("h3",{attrs:{id:"创建容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[a._v("#")]),a._v(" 创建容器")]),a._v(" "),e("p",[e("code",[a._v("swift post test")])]),a._v(" "),e("h3",{attrs:{id:"上传文件至容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上传文件至容器"}},[a._v("#")]),a._v(" 上传文件至容器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("swift upload test/file one.txt\nswift upload test file/\n")])])]),e("h3",{attrs:{id:"从容器中下载文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从容器中下载文件"}},[a._v("#")]),a._v(" 从容器中下载文件")]),a._v(" "),e("p",[e("code",[a._v("swift download test file/three.png")])]),a._v(" "),e("h3",{attrs:{id:"从容器中删除文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从容器中删除文件"}},[a._v("#")]),a._v(" 从容器中删除文件")]),a._v(" "),e("p",[e("code",[a._v("swift delete test file/three.png")])]),a._v(" "),e("h3",{attrs:{id:"查看整个account账户下的swift状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看整个account账户下的swift状态"}},[a._v("#")]),a._v(" 查看整个Account账户下的swift状态")]),a._v(" "),e("p",[e("code",[a._v("swift stat")])]),a._v(" "),e("h3",{attrs:{id:"查看所能查询的系统服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看所能查询的系统服务"}},[a._v("#")]),a._v(" 查看所能查询的系统服务")]),a._v(" "),e("p",[e("code",[a._v("openstack-server status")])]),a._v(" "),e("p",[a._v("{% note success %}\n总结完毕~~~~\n{% endnote %}")])])}),[],!1,null,null,null);t.default=r.exports}}]);